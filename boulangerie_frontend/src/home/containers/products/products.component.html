<table style="float:left; margin-top: 15px;">
  <tbody>
  <tr>
    <td class="text-center"><strong>FILTRES</strong></td>
  </tr>
  <tr>
    <td>
      <button style="width:100%;" class="btn btn-light btn btn-outline-secondary" (click)="setAllFilter()">Tout</button>
    </td>
  </tr>
  <tr *ngFor="let cat of category;">
    <td>
      <button style="width:100%;" class="btn btn-light btn btn-outline-secondary"
              (click)=filter_product(cat.id)>{{cat.name}}</button>
    </td>
  </tr>
  </tbody>
</table>

<ng-container *ngIf="!(connectedUser$|async)">

  <p style="float:right; color:red"><a routerLink="/auth">Connectez </a> vous afin de visualiser les produits et en ajouter à voter panier. </p>

</ng-container>
<div class="container">
  <div class="row ">
    <div style="margin-top:10px" class="col-md-4 mx-auto my-5" *ngFor="let product of displayedProducts;">


      <div id="{{product.product_category_id_id}}">
        <div class="card mb-4 box-shadow">

          <img height="220" class="card-img-top" style="pointer-events: none" [src]="getImageUrl(product.image)">

          <div class="card-body">
            <p class="card-text text-center text-capitalize">{{product.name}}   {{product.price}} €</p>
            <div class=" text-center ">

              <ng-container *ngIf="(connectedUser$|async)">
                <select [(ngModel)]='selectedOption[product.id]'>

                  <option *ngFor='let in of counter(50) ;let i = index ' [id]=i+1 [value]=i+1>{{i + 1}}</option>
                </select>

                <button class="btn btn-primary" (click)=addtocart(product,selectedOption[product.id],product.id)
                        style="margin-left:10px;"> Ajouter au panier
                </button>
                <i class="fa fa-shopping-cart" aria-hidden="true"></i>
              </ng-container>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
